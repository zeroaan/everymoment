(this.webpackJsonpawitter=this.webpackJsonpawitter||[]).push([[0],{27:function(e,t,a){e.exports=a(51)},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),l=a.n(c),i=a(2),u=a(11),s=a(1),o=a(4),m=a.n(o),d=a(8),f=a(13);a(33),a(35),a(52);f.initializeApp({apiKey:"AIzaSyAH5u6RIrH6ZeLTy7kbHNmozB6C2hDTqW4",authDomain:"awitter-zeroaan.firebaseapp.com",databaseURL:"https://awitter-zeroaan.firebaseio.com",projectId:"awitter-zeroaan",storageBucket:"awitter-zeroaan.appspot.com",messagingSenderId:"280157131063",appId:"1:280157131063:web:63c48c954fc20fee9f8ab2"});var p=f,b=f.auth(),_=f.firestore(),E=f.storage(),h=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),u=Object(i.a)(l,2),s=u[0],o=u[1],f=Object(n.useState)(!1),p=Object(i.a)(f,2),_=p[0],E=p[1],h=Object(n.useState)(""),v=Object(i.a)(h,2),g=v[0],w=v[1],O=function(e){var t=e.target,a=t.name,n=t.value;"email"===a?c(n):"password"===a&&o(n)},j=function(){var e=Object(d.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!_){e.next=8;break}return e.next=5,b.createUserWithEmailAndPassword(a,s);case 5:n=e.sent,e.next=11;break;case 8:return e.next=10,b.signInWithEmailAndPassword(a,s);case 10:n=e.sent;case 11:console.log(n.operationType),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),w(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"auth__form",onSubmit:j},_?r.a.createElement("div",{className:"auth__input"},r.a.createElement("input",{className:"auth__form__submit",type:"submit",value:_?"\ud68c\uc6d0\uac00\uc785":"\ub85c\uadf8\uc778"}),r.a.createElement("div",{className:"auth__form__input"},r.a.createElement("input",{name:"email",type:"email",placeholder:"Email",required:!0,value:a,onChange:O}),r.a.createElement("input",{name:"password",type:"password",placeholder:"Password",required:!0,value:s,onChange:O}))):r.a.createElement("div",{className:"auth__input"},r.a.createElement("div",{className:"auth__form__input"},r.a.createElement("input",{name:"email",type:"email",placeholder:"Email",required:!0,value:a,onChange:O}),r.a.createElement("input",{name:"password",type:"password",placeholder:"Password",required:!0,value:s,onChange:O})),r.a.createElement("input",{className:"auth__form__submit",type:"submit",value:_?"\ud68c\uc6d0\uac00\uc785":"\ub85c\uadf8\uc778"})),r.a.createElement("div",null,g&&r.a.createElement("p",{className:"auth__form__error"},function(e){var t;return"There is no user record corresponding to this identifier. The user may have been deleted."===e?t="\uac00\uc785\ub418\uc9c0 \uc54a\uc740 \uc774\uba54\uc77c\uc785\ub2c8\ub2e4.":"The email address is badly formatted."===e?t="\uc774\uba54\uc77c \uc8fc\uc18c\uc758 \ud615\uc2dd\uc774 \uc798\ubabb\ub418\uc5c8\uc2b5\ub2c8\ub2e4.":"Password should be at least 6 characters"===e?t="\ube44\ubc00\ubc88\ud638\ub294 \ucd5c\uc18c 6\uc790\ub9ac \uc774\uc0c1\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4.":"The password is invalid or the user does not have a password."===e?t="\uc798\ubabb\ub41c \ube44\ubc00\ubc88\ud638\uc785\ub2c8\ub2e4.":"Access to this account has been temporarily disabled due to many failed login attempts. You can immediately restore it by resetting your password or you can try again later."===e?t="\ub85c\uadf8\uc778 \uc2dc\ub3c4\uac00 \ub9ce\uc774 \uc2e4\ud328\ud558\uc5ec \uc77c\uc2dc\uc801\uc73c\ub85c \ube44\ud65c\uc131\ud654 \ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4\uc5d0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.":"The email address is already in use by another account."===e&&(t="\uc774\ubbf8 \uc0ac\uc6a9\uc911\uc778 \uc774\uba54\uc77c \uc8fc\uc18c\uc785\ub2c8\ub2e4."),t||e}(g))),r.a.createElement("span",{onClick:function(){E((function(e){return!e}))}},_?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"auth__sign"},"\uc774\ubbf8 \uc544\uc774\ub514\uac00 \uc788\uc73c\uc2e0\uac00\uc694? \xa0 ",r.a.createElement("b",null,"Sign In"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"auth__sign"},"\uc544\uc9c1 \uc544\uc774\ub514\uac00 \uc5c6\uc73c\uc2e0\uac00\uc694? \xa0 ",r.a.createElement("b",null,"Create Account"))))))},v=(a(39),function(){var e=function(){var e=Object(d.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===(a=t.target.name)?n=new p.auth.GoogleAuthProvider:"github"===a&&(n=new p.auth.GithubAuthProvider),e.next=4,b.signInWithPopup(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"auth"},r.a.createElement("i",{className:"fas fa-envelope-square auth__logo"}),r.a.createElement(h,null),r.a.createElement("div",{className:"auth__social"},r.a.createElement("button",{onClick:e,name:"google"},"Google \ub85c\uadf8\uc778"),r.a.createElement("button",{onClick:e,name:"github"},"Github \ub85c\uadf8\uc778")))}),g=a(17),w=(a(40),function(e){var t=e.aweetObj,a=e.isOwner,c=e.userObj,l=Object(n.useState)(!1),u=Object(i.a)(l,2),s=u[0],o=u[1],f=Object(n.useState)(t.text),p=Object(i.a)(f,2),b=p[0],h=p[1],v=function(){var e=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\uc0ad\uc81c \ud6c4\uc5d0 \ub418\ub3cc\ub9b4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){e.next=7;break}return e.next=4,_.doc("aweets/".concat(t.id)).delete();case 4:if(!t.attachmentUrl){e.next=7;break}return e.next=7,E.refFromURL(t.attachmentUrl).delete();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){o((function(e){return!e}))},w=function(){var e=Object(d.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,_.doc("aweets/".concat(t.id)).update({text:b});case 3:o(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){c&&c.uid===t.creatorId&&c.displayName!==t.userName&&_.doc("aweets/".concat(t.id)).update({userName:c.displayName||"\uc775\uba85"+String(c.uid).substring(3,9)})}),[c]),r.a.createElement(r.a.Fragment,null,s?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"aweet"},r.a.createElement("form",{className:"aweet__editing",onSubmit:w},r.a.createElement("input",{className:"aweet__editing__text",type:"text",placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694.",value:b,onChange:function(e){var t=e.target.value;h(t)},required:!0}),r.a.createElement("div",{className:"aweet__editing__button"},r.a.createElement("input",{className:"aweet__editing__button__edit",type:"submit",value:"\uc218\uc815"}),r.a.createElement("button",{className:"aweet__editing__button__cancel",onClick:g},"\ucde8\uc18c"))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"aweet"},r.a.createElement("div",{className:"aweet__box"},r.a.createElement("p",null,t.text),r.a.createElement("h5",null,String(new Date(t.createdAt)).substring(0,24)," /"," ",t.userName," ")),t.attachmentUrl&&r.a.createElement("img",{className:"aweet__img",src:t.attachmentUrl,alt:"attachment"}),a&&r.a.createElement("div",{className:"aweet__button"},r.a.createElement("i",{class:"fas fa-edit",onClick:g}),r.a.createElement("i",{class:"fas fa-trash-alt",onClick:v})))))}),O=a(54),j=(a(41),function(e){var t=e.userObj,a=Object(n.useState)(""),c=Object(i.a)(a,2),l=c[0],u=c[1],s=Object(n.useState)(""),o=Object(i.a)(s,2),f=o[0],p=o[1],b=Object(n.useState)("\ud30c\uc77c \uc120\ud0dd"),h=Object(i.a)(b,2),v=h[0],g=h[1],w=function(){var e=Object(d.a)(m.a.mark((function e(a){var n,r,c,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n="",""===f){e.next=10;break}return r=E.ref().child("".concat(t.uid,"/").concat(Object(O.a)())),e.next=6,r.putString(f,"data_url");case 6:return c=e.sent,e.next=9,c.ref.getDownloadURL();case 9:n=e.sent;case 10:if(""===l){e.next=16;break}return i={text:l,createdAt:Date.now(),creatorId:t.uid,attachmentUrl:n,userName:t.displayName||"\uc775\uba85"+String(t.uid).substring(3,9)},e.next=14,_.collection("aweets").add(i);case 14:u(""),p("");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"aweet__form",onSubmit:w},r.a.createElement("div",{className:"aweet__form__input"},r.a.createElement("input",{className:"aweet__form__input__text",type:"text",value:l,onChange:function(e){var t=e.target.value;u(t)},placeholder:"\uc0c8 \uae00\uc744 \uc791\uc131\ud574\uc8fc\uc138\uc694!",maxLength:60,onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()},autoFocus:!0}),r.a.createElement("div",{className:"aweet__form__input__file"},r.a.createElement("div",null,r.a.createElement("input",{className:"upload__name",value:v,disabled:"disabled"}),r.a.createElement("label",{htmlFor:"file__name"},"\uc5c5\ub85c\ub4dc"),r.a.createElement("input",{id:"file__name",type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0];g(t.name);var a=new FileReader;a.onloadend=function(e){var t=e.currentTarget.result;p(t)},a.readAsDataURL(t)}})),f&&r.a.createElement("div",{className:"attachment__img"},r.a.createElement("img",{src:f,alt:"img"}),r.a.createElement("button",{onClick:function(){p(null)}},"Clear")))),r.a.createElement("input",{className:"aweet__form__input__submit",type:"submit",value:"\uae00\uc4f0\uae30"})))}),N=(a(42),function(e){var t=e.userObj,a=Object(n.useState)([]),c=Object(i.a)(a,2),l=c[0],u=c[1];return Object(n.useEffect)((function(){var e=_.collection("aweets").orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));u(t)}));return function(){e()}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{userObj:t}),r.a.createElement("div",null,l.map((function(e){return r.a.createElement(w,{key:e.id,aweetObj:e,isOwner:e.creatorId===t.uid,userObj:t})}))),r.a.createElement("footer",{className:"footer"}))}),y=(a(43),function(e){var t=e.userObj;return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navi"},r.a.createElement(u.b,{to:"/",replace:!0},r.a.createElement("i",{className:"fas fa-envelope-square navi__logo"})),r.a.createElement("ul",{className:"navi__link"},r.a.createElement("li",{className:"navi__link__list"},r.a.createElement(u.b,{to:"/",replace:!0},"Home")),r.a.createElement("li",{className:"navi__link__list"},r.a.createElement(u.b,{to:"/profile",replace:!0},t.displayName?r.a.createElement(r.a.Fragment,null,t.displayName,"\uc758 Profile"):r.a.createElement(r.a.Fragment,null,"\uc775\uba85"+String(t.uid).substring(3,9),"\uc758 Profile"))))))}),x=(a(48),function(e){var t=e.refreshUser,a=e.userObj,c=Object(n.useState)([]),l=Object(i.a)(c,2),u=l[0],o=l[1],f=Object(n.useState)(a.displayName||"\uc775\uba85"+String(a.uid).substring(3,9)),p=Object(i.a)(f,2),E=p[0],h=p[1],v=Object(s.g)(),O=function(){var e=Object(d.a)(m.a.mark((function e(n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),a.displayName===E){e.next=5;break}return e.next=4,a.updateProfile({displayName:E});case 4:t();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=_.collection("aweets").where("creatorId","==",a.uid).orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));o(t)}));return function(){e()}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"profile__form",onSubmit:O},r.a.createElement("button",{className:"profile__form__logout",onClick:function(){b.signOut(),v.push("/")}},"\ub85c\uadf8\uc544\uc6c3"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"id_change"},"\uc544\uc774\ub514 \ubcc0\uacbd"),r.a.createElement("input",{className:"profile__form__text",id:"id_change",onChange:function(e){var t=e.target.value;h(t)},type:"text",placeholder:"Display name",value:E,maxLength:10,onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()}}),r.a.createElement("input",{className:"profile__form__submit",type:"submit",value:"\ubc14\uafb8\uae30"})),r.a.createElement("h2",{className:"profile__myWrite"},"\ub0b4\uac00 \uc4f4 \uae00")),u.map((function(e){return r.a.createElement(w,{key:e.id,aweetObj:e,isOwner:e.creatorId===a.uid})})),r.a.createElement("footer",{className:"footer"}))}),k=function(e){var t=e.refreshUser,a=e.isLoggedIn,n=e.userObj;return r.a.createElement(u.a,{basename:"/play"},a&&r.a.createElement(y,{userObj:n}),r.a.createElement(s.d,null,a?r.a.createElement(r.a.Fragment,null,r.a.createElement(s.b,{exact:!0,path:"/"},r.a.createElement(N,{userObj:n})),r.a.createElement(s.b,{exact:!0,path:"/profile"},r.a.createElement(x,{userObj:n,refreshUser:t})),r.a.createElement(s.a,{from:"*",to:"/"})):r.a.createElement(r.a.Fragment,null,r.a.createElement(s.b,{exact:!0,path:"/"},r.a.createElement(v,null)),r.a.createElement(s.a,{from:"*",to:"/"}))))},S=(a(49),function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),u=Object(i.a)(l,2),s=u[0],o=u[1];Object(n.useEffect)((function(){b.onAuthStateChanged((function(e){o(e||null),c(!0)}))}));return r.a.createElement(r.a.Fragment,null,a?r.a.createElement(k,{refreshUser:function(){var e=b.currentUser;o(Object.assign({},e))},isLoggedIn:Boolean(s),userObj:s}):r.a.createElement("div",{className:"loading"},r.a.createElement("p",null,"Loading...")))});a(50);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.6ae85d6d.chunk.js.map